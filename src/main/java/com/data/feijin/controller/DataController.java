package com.data.feijin.controller;

import com.data.feijin.annotation.Cache;
import com.data.feijin.utils.CacheDemo;
import com.data.feijin.utils.FileStreamReader;
import com.data.feijin.utils.Pair;
import org.omg.PortableInterceptor.SYSTEM_EXCEPTION;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpRequest;
import org.springframework.http.server.ServerHttpRequest;
import org.springframework.stereotype.Component;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.Mapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RestController;

import javax.servlet.http.HttpServletRequest;
import java.io.BufferedInputStream;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;

@RestController
public class DataController {

    private String url = "/home/lzh/develop/data/";
    @Autowired
    CacheDemo cacheDemo;

    public DataController(){
        System.err.println(url);
    }

    @GetMapping(value = "jifen.aspx")
    private String jifen(HttpServletRequest request) throws IOException {
        BufferedReader br = null;
        StringBuilder sb = new StringBuilder("");
        try
        {
            br = request.getReader();
            String str;
            while ((str = br.readLine()) != null)
            {
                sb.append(str);
            }
            br.close();
            System.err.println(sb);
        }
        catch (IOException e)
        {
            e.printStackTrace();
        }
        finally {
            if (null != br) {
                try {
                    br.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }

        String data = "var arrTeam = [[19,'阿森纳','阿仙奴','Arsenal','阿仙奴','images/2013121220126.png',0],[24,'切尔西','車路士','Chelsea','車路士','images/2013124174836.png',0],[25,'利物浦','利物浦','Liverpool','利物浦','images/2013121220925.png',0],[26,'曼彻斯特城','曼城','Manchester City','曼城','images/20160728021003.jpg',0],[27,'曼彻斯特联','曼聯','Manchester United','曼聯','images/20150127164537.jpg',0],[28,'纽卡斯尔联','紐卡素','Newcastle United','紐卡素','images/2013121221531.png',0],[29,'富勒姆','富咸','Fulham','富咸','images/2013121221624.png',0],[30,'南安普敦','修咸頓','Southampton','修咸頓','images/2013121221813.png',0],[31,'埃弗顿','愛華頓','Everton','愛華頓','images/20141006074557.jpg',0],[33,'托特纳姆热刺','熱刺','Tottenham Hotspur','熱刺','images/2013121222927.png',0],[35,'水晶宫','水晶宮','Crystal Palace','水晶宮','images/20130801181620.jpg',0],[46,'伯恩利','般尼','Burnley','般尼','images/2013121231357.png',0],[52,'狼队','狼隊','Wolves','狼隊','images/20180921103645.png',0],[53,'沃特福德','屈福特','Watford','屈福特','images/2013121231928.png',0],[59,'莱切斯特城','李斯特城','Leicester City','李斯特城','images/2013121232355.png',0],[60,'布莱顿','白禮頓','Brighton   Hove Albion','白禮頓','images/2013121232518.png',0],[62,'西汉姆联','韋斯咸','West Ham United','韋斯咸','images/20161127100609.jpg',0],[64,'卡迪夫城','卡迪夫城','Cardiff City','卡迪夫城','images/20161118101244.png',0],[344,'哈德斯菲尔德','哈德斯菲爾德','Huddersfield Town','哈德斯菲爾德','images/2013121233527.png',0],[348,'伯恩茅斯','般尼茅夫','Bournemouth AFC','般尼茅夫','images/20180921143123.png',0]];\n" +
                "\n" +
                "var scoreColor = ['#00CCFF|欧罗巴联赛杯小组赛|歐霸盃小组赛|UEFA EL qualifying','#B1A7A7|降级球队|降級球隊|Degrade Team','#FF9966|欧冠杯小组赛资格|歐冠盃小組賽資格|UEFA CL qualifying'];\n" +
                "\n" +
                "var totalScore = [[2,1,26,0,15,13,2,0,45,7,38,'86.7','13.3','0.0',3.00,0.47,41,0,'',0,0,0,0,0,0,''],[2,2,25,1,14,11,3,0,27,5,22,'78.6','21.4','0.0',1.93,0.36,36,0,'',0,0,1,0,0,0,''],[2,3,24,0,14,9,4,1,30,11,19,'64.3','28.6','7.1',2.14,0.79,31,0,'',1,0,0,1,2,0,''],[2,4,19,0,14,9,3,2,32,18,14,'64.3','21.4','14.3',2.29,1.29,30,0,'',0,1,1,1,0,0,''],[0,5,33,1,14,10,0,4,25,15,10,'71.4','0.0','28.6',1.79,1.07,30,0,'',0,2,0,0,0,2,''],[-1,6,348,1,15,7,2,6,25,22,3,'46.7','13.3','40.0',1.67,1.47,23,0,'',0,2,2,2,2,0,''],[-1,7,31,2,14,6,4,4,20,16,4,'42.9','28.6','28.6',1.43,1.14,22,0,'',0,2,0,1,0,2,''],[-1,8,27,2,14,6,4,4,22,23,-1,'42.9','28.6','28.6',1.57,1.64,22,0,'',1,0,0,2,1,1,''],[-1,9,59,4,14,6,3,5,20,17,3,'42.9','21.4','35.7',1.43,1.21,21,0,'',2,1,0,1,1,0,''],[-1,10,60,2,15,6,3,6,19,21,-2,'40.0','20.0','40.0',1.27,1.40,21,0,'',0,2,2,1,0,0,''],[-1,11,53,2,15,6,2,7,18,21,-3,'40.0','13.3','46.7',1.20,1.40,20,0,'',0,2,1,2,2,2,''],[-1,12,62,1,15,5,3,7,20,23,-3,'33.3','20.0','46.7',1.33,1.53,18,0,'',1,0,1,2,0,0,''],[-1,13,52,0,14,4,4,6,13,17,-4,'28.6','28.6','42.9',0.93,1.21,16,0,'',2,2,2,1,2,2,''],[-1,14,28,1,14,3,3,8,11,19,-8,'21.4','21.4','57.1',0.79,1.36,12,0,'',2,1,0,0,0,2,''],[-1,15,35,1,15,3,3,9,11,20,-9,'20.0','20.0','60.0',0.73,1.33,12,0,'',1,2,2,1,0,2,''],[-1,16,64,1,15,3,2,10,14,30,-16,'20.0','13.3','66.7',0.93,2.00,11,0,'',2,2,0,2,0,2,''],[-1,17,344,2,15,2,4,9,10,26,-16,'13.3','26.7','60.0',0.67,1.73,10,0,'',2,0,1,0,2,2,''],[1,18,30,1,14,1,6,7,12,26,-14,'7.1','42.9','50.0',0.86,1.86,9,0,'',1,1,2,1,2,1,''],[1,19,46,0,14,2,3,9,13,29,-16,'14.3','21.4','64.3',0.93,2.07,9,0,'',2,2,2,1,2,2,''],[1,20,29,1,14,2,2,10,14,35,-21,'14.3','14.3','71.4',1.00,2.50,8,0,'',2,2,2,2,0,2,'']];\n" +
                "\n" +
                "var homeScore = [[1,26,8,8,0,0,30,5,25,'100.0','0.0','0.0',3.75,0.63,24],[2,25,7,6,1,0,15,1,14,'85.7','14.3','0.0',2.14,0.14,19],[3,24,8,5,3,0,17,7,10,'62.5','37.5','0.0',2.13,0.88,18],[4,19,8,5,2,1,16,8,8,'62.5','25.0','12.5',2.00,1.00,17],[5,31,7,5,1,1,13,6,7,'71.4','14.3','14.3',1.86,0.86,16],[6,348,8,4,2,2,14,10,4,'50.0','25.0','25.0',1.75,1.25,14],[7,60,7,4,2,1,12,8,4,'57.1','28.6','14.3',1.71,1.14,14],[8,53,8,4,0,4,11,13,-2,'50.0','0.0','50.0',1.38,1.63,12],[9,59,7,3,2,2,10,6,4,'42.9','28.6','28.6',1.43,0.86,11],[10,27,6,3,2,1,8,8,0,'50.0','33.3','16.7',1.33,1.33,11],[11,62,8,3,1,4,11,12,-1,'37.5','12.5','50.0',1.38,1.50,10],[12,64,8,3,1,4,11,15,-4,'37.5','12.5','50.0',1.38,1.88,10],[13,33,5,3,0,2,8,5,3,'60.0','0.0','40.0',1.60,1.00,9],[14,52,7,2,2,3,8,10,-2,'28.6','28.6','42.9',1.14,1.43,8],[15,29,6,2,1,3,9,15,-6,'33.3','16.7','50.0',1.50,2.50,7],[16,28,8,2,0,6,6,13,-7,'25.0','0.0','75.0',0.75,1.63,6],[17,30,7,0,5,2,6,10,-4,'0.0','71.4','28.6',0.86,1.43,5],[18,35,7,1,2,4,4,8,-4,'14.3','28.6','57.1',0.57,1.14,5],[19,344,8,1,2,5,3,10,-7,'12.5','25.0','62.5',0.38,1.25,5],[20,46,6,1,1,4,7,12,-5,'16.7','16.7','66.7',1.17,2.00,4]];\n" +
                "\n" +
                "var guestScore = [[1,33,9,7,0,2,17,10,7,'77.8','0.0','22.2',1.89,1.11,21],[2,26,7,5,2,0,15,2,13,'71.4','28.6','0.0',2.14,0.29,17],[3,25,7,5,2,0,12,4,8,'71.4','28.6','0.0',1.71,0.57,17],[4,24,6,4,1,1,13,4,9,'66.7','16.7','16.7',2.17,0.67,13],[5,19,6,4,1,1,16,10,6,'66.7','16.7','16.7',2.67,1.67,13],[6,27,8,3,2,3,14,15,-1,'37.5','25.0','37.5',1.75,1.88,11],[7,59,7,3,1,3,10,11,-1,'42.9','14.3','42.9',1.43,1.57,10],[8,348,7,3,0,4,11,12,-1,'42.9','0.0','57.1',1.57,1.71,9],[9,53,7,2,2,3,7,8,-1,'28.6','28.6','42.9',1.00,1.14,8],[10,62,7,2,2,3,9,11,-2,'28.6','28.6','42.9',1.29,1.57,8],[11,52,7,2,2,3,5,7,-2,'28.6','28.6','42.9',0.71,1.00,8],[12,35,8,2,1,5,7,12,-5,'25.0','12.5','62.5',0.88,1.50,7],[13,60,8,2,1,5,7,13,-6,'25.0','12.5','62.5',0.88,1.63,7],[14,28,6,1,3,2,5,6,-1,'16.7','50.0','33.3',0.83,1.00,6],[15,31,7,1,3,3,7,10,-3,'14.3','42.9','42.9',1.00,1.43,6],[16,344,7,1,2,4,7,16,-9,'14.3','28.6','57.1',1.00,2.29,5],[17,46,8,1,2,5,6,17,-11,'12.5','25.0','62.5',0.75,2.13,5],[18,30,7,1,1,5,6,16,-10,'14.3','14.3','71.4',0.86,2.29,4],[19,64,7,0,1,6,3,15,-12,'0.0','14.3','85.7',0.43,2.14,1],[20,29,8,0,1,7,5,20,-15,'0.0','12.5','87.5',0.63,2.50,1]];\n" +
                "\n" +
                "var halfScore = [[1,26,15,11,4,0,23,4,19,'73.3','26.7','0.0',1.53,0.27,37],[2,25,14,9,4,1,13,1,12,'64.3','28.6','7.1',0.93,0.07,31],[3,33,14,9,3,2,14,4,10,'64.3','21.4','14.3',1.00,0.29,30],[4,24,14,8,5,1,12,5,7,'57.1','35.7','7.1',0.86,0.36,29],[5,348,15,6,6,3,15,9,6,'40.0','40.0','20.0',1.00,0.60,24],[6,62,15,5,5,5,9,11,-2,'33.3','33.3','33.3',0.60,0.73,20],[7,60,15,5,4,6,12,10,2,'33.3','26.7','40.0',0.80,0.67,19],[8,27,14,5,4,5,11,12,-1,'35.7','28.6','35.7',0.79,0.86,19],[9,35,15,4,7,4,4,6,-2,'26.7','46.7','26.7',0.27,0.40,19],[10,53,15,4,6,5,7,10,-3,'26.7','40.0','33.3',0.47,0.67,18],[11,28,14,3,7,4,8,8,0,'21.4','50.0','28.6',0.57,0.57,16],[12,59,14,3,6,5,8,11,-3,'21.4','42.9','35.7',0.57,0.79,15],[13,31,14,1,11,2,7,7,0,'7.1','78.6','14.3',0.50,0.50,14],[14,52,14,2,7,5,3,9,-6,'14.3','50.0','35.7',0.21,0.64,13],[15,30,14,2,7,5,6,14,-8,'14.3','50.0','35.7',0.43,1.00,13],[16,344,15,3,4,8,8,17,-9,'20.0','26.7','53.3',0.53,1.13,13],[17,46,14,2,6,6,8,12,-4,'14.3','42.9','42.9',0.57,0.86,12],[18,29,14,3,3,8,9,15,-6,'21.4','21.4','57.1',0.64,1.07,12],[19,19,14,0,10,4,8,12,-4,'0.0','71.4','28.6',0.57,0.86,10],[20,64,15,0,9,6,5,13,-8,'0.0','60.0','40.0',0.33,0.87,9]];\n" +
                "\n" +
                "var homeHalfScore = [[1,26,8,6,2,0,14,4,10,'75.0','25.0','0.0',1.75,0.50,20],[2,24,8,5,3,0,8,3,5,'62.5','37.5','0.0',1.00,0.38,18],[3,25,7,5,2,0,8,0,8,'71.4','28.6','0.0',1.14,0.00,17],[4,348,8,4,4,0,9,3,6,'50.0','50.0','0.0',1.13,0.38,16],[5,60,7,4,1,2,8,3,5,'57.1','14.3','28.6',1.14,0.43,13],[6,27,6,3,2,1,3,2,1,'50.0','33.3','16.7',0.50,0.33,11],[7,30,7,2,4,1,4,3,1,'28.6','57.1','14.3',0.57,0.43,10],[8,35,7,2,4,1,2,1,1,'28.6','57.1','14.3',0.29,0.14,10],[9,62,8,2,4,2,4,5,-1,'25.0','50.0','25.0',0.50,0.63,10],[10,33,5,3,0,2,4,2,2,'60.0','0.0','40.0',0.80,0.40,9],[11,59,7,2,3,2,6,5,1,'28.6','42.9','28.6',0.86,0.71,9],[12,53,8,2,3,3,3,6,-3,'25.0','37.5','37.5',0.38,0.75,9],[13,31,7,1,5,1,5,4,1,'14.3','71.4','14.3',0.71,0.57,8],[14,344,8,2,2,4,3,7,-4,'25.0','25.0','50.0',0.38,0.88,8],[15,29,6,2,1,3,6,7,-1,'33.3','16.7','50.0',1.00,1.17,7],[16,46,6,2,1,3,5,6,-1,'33.3','16.7','50.0',0.83,1.00,7],[17,28,8,1,3,4,3,6,-3,'12.5','37.5','50.0',0.38,0.75,6],[18,64,8,0,6,2,4,8,-4,'0.0','75.0','25.0',0.50,1.00,6],[19,19,8,0,5,3,3,6,-3,'0.0','62.5','37.5',0.38,0.75,5],[20,52,7,0,4,3,1,6,-5,'0.0','57.1','42.9',0.14,0.86,4]];\n" +
                "\n" +
                "var guestHalfScore = [[1,33,9,6,3,0,10,2,8,'66.7','33.3','0.0',1.11,0.22,21],[2,26,7,5,2,0,9,0,9,'71.4','28.6','0.0',1.29,0.00,17],[3,25,7,4,2,1,5,1,4,'57.1','28.6','14.3',0.71,0.14,14],[4,24,6,3,2,1,4,2,2,'50.0','33.3','16.7',0.67,0.33,11],[5,28,6,2,4,0,5,2,3,'33.3','66.7','0.0',0.83,0.33,10],[6,62,7,3,1,3,5,6,-1,'42.9','14.3','42.9',0.71,0.86,10],[7,53,7,2,3,2,4,4,0,'28.6','42.9','28.6',0.57,0.57,9],[8,52,7,2,3,2,2,3,-1,'28.6','42.9','28.6',0.29,0.43,9],[9,35,8,2,3,3,2,5,-3,'25.0','37.5','37.5',0.25,0.63,9],[10,348,7,2,2,3,6,6,0,'28.6','28.6','42.9',0.86,0.86,8],[11,27,8,2,2,4,8,10,-2,'25.0','25.0','50.0',1.00,1.25,8],[12,31,7,0,6,1,2,3,-1,'0.0','85.7','14.3',0.29,0.43,6],[13,60,8,1,3,4,4,7,-3,'12.5','37.5','50.0',0.50,0.88,6],[14,59,7,1,3,3,2,6,-4,'14.3','42.9','42.9',0.29,0.86,6],[15,19,6,0,5,1,5,6,-1,'0.0','83.3','16.7',0.83,1.00,5],[16,46,8,0,5,3,3,6,-3,'0.0','62.5','37.5',0.38,0.75,5],[17,344,7,1,2,4,5,10,-5,'14.3','28.6','57.1',0.71,1.43,5],[18,29,8,1,2,5,3,8,-5,'12.5','25.0','62.5',0.38,1.00,5],[19,64,7,0,3,4,1,5,-4,'0.0','42.9','57.1',0.14,0.71,3],[20,30,7,0,3,4,2,11,-9,'0.0','42.9','57.1',0.29,1.57,3]];\n" +
                "\n" +
                "var Season='2018-2019';";
//        String data = FileStreamReader.getFileReader().read(url+"jifen");
        return  data;
    }

    @GetMapping(value = "Player_XML.aspx")
    private String player_XML(){
        String data = FileStreamReader.getFileReader().read(url+"Player_XML");
        return data;
    }
    @GetMapping(value = "Team_XML.aspx")
    private String team_XML(){
        String data = FileStreamReader.getFileReader().read(url+"Team_XML");
        return data;
    }
    @GetMapping(value = "TopScorer.aspx")
    private String topScorer(){
        String data = FileStreamReader.getFileReader().read(url+"TopScorer");
        return data;
    }
}
